<script type="text/javascript" src="htmls/admin/addauthority.js"></script>
<div class="box border primary" ng-init="init()">
	<div class="box-title">
		<h4>
			<i class="fa fa-bars"></i>角色赋权
		</h4>
		<div class="tools hidden">
			<a href="#box-config" data-toggle="modal" class="config"> <i
				class="fa fa-cog"></i>
			</a> <a href="javascript:;" class="reload"> <i class="fa fa-refresh"></i>
			</a> <a href="javascript:;" class="collapse"> <i
				class="fa fa-chevron-up"></i>
			</a> <a href="javascript:;" class="remove"> <i class="fa fa-times"></i>
			</a>
		</div>
	</div>
	<div class="box-body big">
		<form action="" class="form-horizontal">
			<fieldset>
				<legend> 角色赋权 </legend>
				<div class="form-group">
					<label for="versionId" class="col-sm-3 control-label">角色名称：</label>
					<div class="col-sm-6">
						<select class="form-control" ng-model="formData.role"
							ng-options="item.name for item in roleList"
							ng-change="getAuthorityListByRole(formData.role)"></select>
					</div>
					<div class="col-sm-3">
						<span class="text-danger control-label">* </span><label
							class="text-warning control-label"></label>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">全部权限：</label>
					<div class="col-sm-6">
						<div class="row" ng-repeat="row in authorityList">
							<div class="col-sm-12 col-sm-12-add-margin"
								ng-init="rowIndex=$index">
								<span>{{row.menu_name}}</span>
							</div>
							<div class="row">
								<div class="col-sm-3"
									ng-repeat="col in authorityList[rowIndex].child">
									<input type="checkbox"
										ng-model="authorityList[rowIndex].child[$index].check ">
									<span>{{col.menu_name}}</span>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-3">{{authorityList}}</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<button type="button" ng-click="submit()"
							class="btn btn-default btn-primary">确 认</button>
					</div>
				</div>
			</fieldset>
		</form>
	</div>
</div>